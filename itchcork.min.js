define("BenchmarkViewModel",[],function(){var a=function(){this.name=ko.observable("");this.expression=ko.observable("");this.hz=ko.observable(0);this.relativateMarginError=ko.observable("");this.timesFaster=ko.observable("pending...");this.slowest=ko.observable(false);this.fastest=ko.observable(false);this.iterationPerSampleCycle=ko.observable(0);this.numAnalysisCycles=ko.observable(0);this.numSampleCycles=ko.observable(0)};return a});define("Spy",[],function(){return function(b){function a(){var c=Array.prototype.slice.call(arguments);a.calls.push(c);b.apply(this,c)}a.prototype=b.prototype;a.calls=[];return a}});define("Suite",["Test","benchmark","knockout","SuiteViewModel","BenchmarkViewModel"],function(d,c,a,e,f){var b=function(i,h){var g=this;g.vm,g.jsContext,g.benchmarkSuite=new c.Suite;g.themeManager=window.ThemeManager;g.setupContextBreakdown=function(l,n){var p="",k="";for(var o in l){if(l[o] instanceof Function){try{p=l[o].toString();k=Js2coffee.build(p);var j={name:n+"."+o,jsStr:p,coffeeStr:k};g.vm.testCases.push(j)}catch(m){}}else{if(l[o] instanceof Object){if(Object.toSource){var j={name:o,js:l[o].toSource()};g.vm.testCases.push(j)}}}if(l[o]&&l[o].prototype){g.setupContextBreakdown(l[o].prototype,n+"."+o+".prototype")}}};g.map=function(){g.vm=new e();g.vm.suiteDesc(i);g.vm.jsContextStr(h.toString()+"\n var c = new context();");g.vm.coffeeContextStr(Js2coffee.build(g.vm.jsContextStr()));g.vm.benchmarkPlatform(c.platform.description);g.jsContext=new h();g.setupContextBreakdown(g.jsContext,"context")};g.map();g.benchmarkSuite.on("cycle",function(k){var j=k.target;var l=new f();l.name(j.name);l.expression(j.name.replace(/context\.(.*?)\(\)\;/gi,"$1"));l.hz(j.hz.toFixed(0));l.relativateMarginError(j.stats.rme.toFixed(2)+"%");l.iterationPerSampleCycle(j.count);l.numAnalysisCycles(j.cycles);l.numSampleCycles(j.stats.sample.length);g.vm.benchmarks.push(l)}).on("complete",function(){g.vm.benchmarks.sort(function(p,n){var m=parseInt(p.hz());var o=parseInt(n.hz());return m==o?0:(m>o?-1:1)});g.vm.benchmarks()[0].fastest(true);var l=g.vm.benchmarks().length;g.vm.benchmarks()[l-1].slowest(true);var k=g.vm.benchmarks()[l-1].hz();for(var j=0;j<l;j++){g.vm.benchmarks()[j].timesFaster((g.vm.benchmarks()[j].hz()/k).toFixed(3))}g.vm.benchmarksDone(true)});g.add=function(j,l){if(typeof l=="function"){g.addTestWithBenchmarks(j,l,null)}else{var m=g.jsContext;var k=new Function("c","return c."+l);g.addTestWithBenchmarks(j,k,null)}return g};g.addTestWithBenchmarks=function(k,m,j){var n=new d(k,m,g.jsContext,j);g.vm.tests.push(n);if(j){var l=(function(p,o){return function(){p[o]()}})(g.jsContext,j);g.benchmarkSuite.add({name:n.expression,fn:l,async:true,queued:true,minSamples:100})}else{g.benchmarkSuite.add(n.expression,function(){m(g.jsContext)},{async:true,queued:true,minSamples:100})}return g};g.shouldEqual=function(j){g.shouldEqualValue=j;return g};g.compare=function(){var k=function(m,l){return m[l]()};for(var j in g.jsContext){g.addTestWithBenchmarks(g.shouldEqualValue,k,j)}return g};g.run=function(){g.vm.benchmarksDone(false);g.vm.benchmarks.removeAll();g.benchmarkSuite.run()}};return b});define("SuiteView",[],function(){var a=function(){var b=this;b.suites=new ko.observableArray([]);b.menu=document.getElementById("menu");b.view=document.getElementById("view");b.setMenuHeight=function(){b.menu.style.height=document.body.scrollHeight+"px"};ko.applyBindings(b);b.add=function(c){b.suites.push(c);c.vm.benchmarksDone.subscribe(function(d){b.setMenuHeight()})};b.setTheme=function(c){window.ThemeManager.set(c);$("#logo").click()};b.toggleMenu=function(){var c=document.getElementById("menu");if(b.menu.style.display=="block"){b.menu.style.display="none"}else{b.setMenuHeight();c.style.display="block";window.scrollTo(0,0)}}};return a});define("SuiteViewModel",["UnitTestFrameworkManager"],function(b){var a=function(){this.suiteDesc=ko.observable("");this.jsContextStr=ko.observable("");this.coffeeContextStr=ko.observable("");this.tests=ko.observableArray([]);this.testCases=ko.observableArray([]);this.shouldShow=ko.observable(true);this.benchmarks=ko.observableArray([]);this.benchmarksDone=ko.observable(false);this.benchmarkPlatform=ko.observable("");this.unitTestFrameworkManager=new b()};return a});define("Test",[],function(){var a=function(e,f,d,c){var b=f.toString().trim();if(c){this.expression=c+"()";this.actual=f(d,c)}else{this.expression=b.replace(/\n/gm,"").replace(/function +?\(c\) +?\{ +?return(.*?) +?;/g,"$1");this.actual=f(d)}this.shouldEqual=e;this.typeOf=typeof(this.actual)};return a});define("UnitTestFrameworkManager",[],function(){return function a(){a.prototype.init=function(){if(!amplify.store("currentUnitTestFramework")){this.set("itchcork")}return this.getFramework()};a.prototype.set=function(b){if(b!=amplify.store("currentUnitTestFramework")){amplify.store("currentUnitTestFramework",b)}};a.prototype.getFramework=function(){return amplify.store("currentUnitTestFramework")}}});define("Verify",[],function(){return function(a){return function(){var d=Array.prototype.slice.call(arguments),e,c,f,g=0,b;for(e=0;e<a.calls.length;e+=1){f=a.calls[e];b=true;for(c=0;c<d.length;c+=1){if(d[c]!==f[c]){b=false;break}}if(b){g+=1}}return g>0}}});define("ItchCork",["Suite","SuiteView","Test","Spy","Verify","UnitTestFrameworkManager"],function(a,e,g,b,f,c){var d=function(){d.prototype.Suite=a;d.prototype.SuiteView=e;d.prototype.Test=g;d.prototype.Spy=b;d.prototype.Verify=f;d.prototype.UnitTestFrameworkManager=c};return new d()});