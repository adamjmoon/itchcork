define("Suite",["Test","benchmark","knockout","SuiteViewModel","BenchmarkViewModel"],function(d,c,a,e,f){var b=function(i,h){var g=this;g.vm,g.jsContext,g.benchmarkSuite=new c.Suite;g.themeManager=window.ThemeManager;g.setupContextBreakdown=function(l,n){var p="",k="";for(var o in l){if(l[o] instanceof Function){try{p=l[o].toString();k=Js2coffee.build("var func = "+p);var j={name:n+"."+o,jsStr:p,coffeeStr:k};g.vm.testCases.push(j)}catch(m){}}else{if(l[o] instanceof Object){if(Object.toSource){var j={name:o,js:l[o].toSource()};g.vm.testCases.push(j)}}}if(l[o]&&l[o].prototype){g.setupContextBreakdown(l[o].prototype,n+"."+o+".prototype")}}};g.map=function(){g.vm=new e();g.vm.suiteDesc(i);g.vm.jsContextStr(h.toString()+"\n var c = new context();");g.vm.coffeeContextStr(Js2coffee.build(g.vm.jsContextStr()));g.vm.benchmarkPlatform(c.platform.description);g.jsContext=new h();g.setupContextBreakdown(g.jsContext,"context")};g.map();g.benchmarkSuite.on("cycle",function(k){var j=k.target;var l=new f();l.name(j.name);l.expression(j.name.replace(/context\.(.*?)\(\)\;/gi,"$1"));l.hz(j.hz.toFixed(0));l.relativateMarginError(j.stats.rme.toFixed(2)+"%");l.iterationPerSampleCycle(j.count);l.numAnalysisCycles(j.cycles);l.numSampleCycles(j.stats.sample.length);g.vm.benchmarks.push(l)}).on("complete",function(){g.vm.benchmarks.sort(function(p,n){var m=parseInt(p.hz());var o=parseInt(n.hz());return m==o?0:(m>o?-1:1)});g.vm.benchmarks()[0].fastest(true);var l=g.vm.benchmarks().length;g.vm.benchmarks()[l-1].slowest(true);var k=g.vm.benchmarks()[l-1].hz();for(var j=0;j<l;j++){g.vm.benchmarks()[j].timesFaster((g.vm.benchmarks()[j].hz()/k).toFixed(3))}g.vm.benchmarksDone(true)});g.add=function(j,l){if(typeof l=="function"){g.addTestWithBenchmarks(j,l,null)}else{var m=g.jsContext;var k=new Function("c","return c."+l);g.addTestWithBenchmarks(j,k,null)}return g};g.addTestWithBenchmarks=function(k,m,j){var n=new d(k,m,g.jsContext,j);g.vm.tests.push(n);if(j){var l=(function(p,o){return function(){p[o]()}})(g.jsContext,j);g.benchmarkSuite.add({name:n.expression,fn:l,async:true,queued:true,minSamples:100})}else{g.benchmarkSuite.add(n.expression,function(){m(g.jsContext)},{async:true,queued:true,minSamples:100})}return g};g.shouldEqual=function(j){g.shouldEqualValue=j;return g};g.compare=function(){var k=function(m,l){return m[l]()};for(var j in g.jsContext){g.addTestWithBenchmarks(g.shouldEqualValue,k,j)}return g};g.run=function(){g.vm.benchmarksDone(false);g.vm.benchmarks.removeAll();g.benchmarkSuite.run()}};return b});define("SuiteView",["knockout"],function(b){var a=function(){var c=this;c.suites=new b.observableArray([]);c.add=function(d){c.suites.push(d);if(c.suites().length==1){b.applyBindings(c)}}};return a});define("SuiteViewModel",["knockout"],function(a,c){var b=function(){this.suiteDesc=a.observable("");this.jsContextStr=a.observable("");this.coffeeContextStr=a.observable("");this.tests=a.observableArray([]);this.testCases=a.observableArray([]);this.shouldShow=a.observable(true);this.benchmarks=a.observableArray([]);this.benchmarksDone=a.observable(false);this.benchmarkPlatform=a.observable("");this.unitTestFrameworkManager=new c()};return b});define("BenchmarkViewModel",["knockout"],function(a){var b=function(){this.name=a.observable("");this.expression=a.observable("");this.hz=a.observable(0);this.relativateMarginError=a.observable("");this.timesFaster=a.observable("pending...");this.slowest=a.observable(false);this.fastest=a.observable(false);this.iterationPerSampleCycle=a.observable(0);this.numAnalysisCycles=a.observable(0);this.numSampleCycles=a.observable(0)};return b});define("Test",[],function(){var a=function(e,f,d,c){var b=f.toString().trim();if(c){this.expression=c+"()";this.actual=f(d,c)}else{this.expression=b.replace(/\n/gm,"").replace(/function +?\(c\) +?\{ +?return(.*?) +?;/g,"$1");this.actual=f(d)}this.shouldEqual=e;this.typeOf=typeof(this.actual)};return a});define("Spy",[],function(){return function(b){function a(){var c=Array.prototype.slice.call(arguments);a.calls.push(c);b.apply(this,c)}a.prototype=b.prototype;a.calls=[];return a}});define("Verify",[],function(){return function(a){return function(){var d=Array.prototype.slice.call(arguments),e,c,f,g=0,b;for(e=0;e<a.calls.length;e+=1){f=a.calls[e];b=true;for(c=0;c<d.length;c+=1){if(d[c]!==f[c]){b=false;break}}if(b){g+=1}}return g>0}}});define("UnitTestFrameworkManager",[],function(){return function a(){a.prototype.init=function(){if(!amplify.store("currentUnitTestFramework")){this.set("itchcork")}return this.getFramework()};a.prototype.set=function(b){if(b!=amplify.store("currentUnitTestFramework")){amplify.store("currentUnitTestFramework",b)}};a.prototype.getFramework=function(){return amplify.store("currentUnitTestFramework")}}});define("ItchCork",["Suite","SuiteView","Test","Spy","Verify","UnitTestFrameworkManager"],function(a,e,g,b,f,c){var d=function(){d.prototype.Suite=a;d.prototype.SuiteView=e;d.prototype.Test=g;d.prototype.Spy=b;d.prototype.Verify=f;d.prototype.UnitTestFrameworkManager=c};return new d()});