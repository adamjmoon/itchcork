define("Suite",["Test","benchmark","knockout","ThemeManager"],function(d,c,a,b){return function(g,f){var e=this;e.suiteDesc=a.observable(g);e.jsContext=new f();e.jsContextStr=a.observable(f.toString()+"\n var c = new context();");e.coffeeContextStr=a.observable(Js2coffee.build(e.jsContextStr()));e.tests=a.observableArray([]);e.testCases=a.observableArray([]);e.shouldShow=a.observable(true);e.benchmarks=a.observableArray([]);e.benchmarksDone=a.observable(false);e.benchmarkSuite=new c.Suite;e.benchmarkPlatform=a.observable(c.platform.description);e.themeManager=new b();e.themeManager.init();e.setupContextBreakdown(e.jsContext,"context");e.setupContextBreakdown=function(j,l){var n="",i="";for(var m in j){if(j[m] instanceof Function){try{n=j[m].toString();i=Js2coffee.build("var func = "+n);var h={name:l+"."+m,jsStr:n,coffeeStr:i};e.testCases.push(h)}catch(k){}}else{if(j[m] instanceof Object){if(Object.toSource){var h={name:m,js:j[m].toSource()};e.testCases.push(h)}}}if(j[m]&&j[m].prototype){setupContextBreakdown(j[m].prototype,l+"."+m+".prototype")}}};e.benchmarkSuite.on("cycle",function(i){var h=i.target;e.benchmarks.push({name:h.name,expression:a.observable(h.name.replace(/context\.(.*?)\(\)\;/gi,"$1")),hz:a.observable(h.hz.toFixed(0)),relativateMarginError:a.observable(h.stats.rme.toFixed(2)+"%"),timesFaster:a.observable("pending..."),slowest:a.observable(false),fastest:a.observable(false),iterationPerSampleCycle:a.observable(h.count),numAnalysisCycles:a.observable(h.cycles),numSampleCycles:a.observable(h.stats.sample.length)})}).on("complete",function(){e.benchmarks.sort(function(n,l){var i=parseInt(n.hz());var m=parseInt(l.hz());return i==m?0:(i>m?-1:1)});e.benchmarks()[0].fastest(true);var k=e.benchmarks().length;e.benchmarks()[k-1].slowest(true);var j=e.benchmarks()[k-1].hz();for(var h=0;h<k;h++){e.benchmarks()[h].timesFaster((e.benchmarks()[h].hz()/j).toFixed(3))}e.benchmarksDone(true)});e.add=function(h,j){if(typeof j=="function"){e.addTestWithBenchmarks(h,j,null)}else{var k=e.jsContext;var i=new Function("c","return c."+j);e.addTestWithBenchmarks(h,i,null)}return e};e.addTestWithBenchmarks=function(i,k,h){var l=new d(i,k,e.jsContext,h);e.tests.push(l);if(h){var j=(function(n,m){return function(){n[m]()}})(e.jsContext,h);console.log(j);e.benchmarkSuite.add({name:l.expression,fn:j,async:true,queued:true,minSamples:100})}else{e.benchmarkSuite.add(l.expression,function(){k(e.jsContext)},{async:true,"qu=]ued":true,minSamples:100})}return e};e.shouldEqual=function(h){e.shouldEqualValue=h;return e};e.compare=function(){var i=function(k,j){return k[j]()};for(var h in e.jsContext){e.addTestWithBenchmarks(e.shouldEqualValue,i,h)}return e};e.run=function(){e.benchmarksDone(false);e.benchmarks.removeAll();e.benchmarkSuite.run()};a.applyBindings(e)}});define("Test",[],function(){return function(d,e,c,b){var a=e.toString().trim();if(b){this.expression=b+"()";this.actual=e(c,b)}else{this.expression=a.replace(/\n    /,"").replace(/{ return/,"{return").replace(/function \(c\) {return /,"").replace(/\}/,"").replace(/\;/,"");this.actual=e(c)}this.shouldEqual=d;this.typeOf=typeof(this.actual)}});define("Spy",[],function(){return function(b){function a(){var c=Array.prototype.slice.call(arguments);a.calls.push(c);b.apply(this,c)}a.prototype=b.prototype;a.calls=[];return a}});define("Verify",[],function(){return function(a){return function(){var d=Array.prototype.slice.call(arguments),e,c,f,g=0,b;for(e=0;e<a.calls.length;e+=1){f=a.calls[e];b=true;for(c=0;c<d.length;c+=1){if(d[c]!==f[c]){b=false;break}}if(b){g+=1}}return g>0}}});define("ThemeManager",[],function(){return function a(){a.prototype.init=function(){b()};function b(){var d=document.getElementById(amplify.store("currentTheme"));d.innerHTML=d.innerHTML.replace(/\/\*/g,"").replace(/\*\//g,"");if(amplify.store("previousTheme")!=""){var c=document.getElementById(amplify.store("previousTheme"));c.innerHTML="/*"+c.innerHTML+"*/"}}a.prototype.set=function(c){if(c!=amplify.store("currentTheme")){amplify.store("previousTheme",amplify.store("currentTheme"));amplify.store("currentTheme",c);b()}}}});define("ItchCork",["Suite","Test","Spy","Verify","ThemeManager"],function(a,f,b,e,c){return function d(){d.prototype.Suite=a;d.prototype.Test=f;d.prototype.Spy=b;d.prototype.Verify=e;d.prototype.ThemeManager=c}});