define("Suite",["Test","benchmark","knockout","ThemeManager","UnitTestFrameworkManager"],function(e,d,a,c,b){return function(h,g){var f=this;f.suiteDesc=a.observable(h);f.jsContext=new g();f.jsContextStr=a.observable(g.toString()+"\n var c = new context();");f.coffeeContextStr=a.observable(Js2coffee.build(f.jsContextStr()));f.tests=a.observableArray([]);f.testCases=a.observableArray([]);f.shouldShow=a.observable(true);f.benchmarks=a.observableArray([]);f.benchmarksDone=a.observable(false);f.benchmarkSuite=new d.Suite;f.benchmarkPlatform=a.observable(d.platform.description);f.themeManager=new c();f.unitTestFrameworkManager=new b();f.setupContextBreakdown=function(k,m){var o="",j="";for(var n in k){if(k[n] instanceof Function){try{o=k[n].toString();j=Js2coffee.build("var func = "+o);var i={name:m+"."+n,jsStr:o,coffeeStr:j};f.testCases.push(i)}catch(l){}}else{if(k[n] instanceof Object){if(Object.toSource){var i={name:n,js:k[n].toSource()};f.testCases.push(i)}}}if(k[n]&&k[n].prototype){f.setupContextBreakdown(k[n].prototype,m+"."+n+".prototype")}}};f.setupContextBreakdown(f.jsContext,"context");f.benchmarkSuite.on("cycle",function(j){var i=j.target;f.benchmarks.push({name:i.name,expression:a.observable(i.name.replace(/context\.(.*?)\(\)\;/gi,"$1")),hz:a.observable(i.hz.toFixed(0)),relativateMarginError:a.observable(i.stats.rme.toFixed(2)+"%"),timesFaster:a.observable("pending..."),slowest:a.observable(false),fastest:a.observable(false),iterationPerSampleCycle:a.observable(i.count),numAnalysisCycles:a.observable(i.cycles),numSampleCycles:a.observable(i.stats.sample.length)})}).on("complete",function(){f.benchmarks.sort(function(o,m){var i=parseInt(o.hz());var n=parseInt(m.hz());return i==n?0:(i>n?-1:1)});f.benchmarks()[0].fastest(true);var l=f.benchmarks().length;f.benchmarks()[l-1].slowest(true);var k=f.benchmarks()[l-1].hz();for(var j=0;j<l;j++){f.benchmarks()[j].timesFaster((f.benchmarks()[j].hz()/k).toFixed(3))}f.benchmarksDone(true)});f.add=function(i,k){if(typeof k=="function"){f.addTestWithBenchmarks(i,k,null)}else{var l=f.jsContext;var j=new Function("c","return c."+k);f.addTestWithBenchmarks(i,j,null)}return f};f.addTestWithBenchmarks=function(j,l,i){var m=new e(j,l,f.jsContext,i);f.tests.push(m);if(i){var k=(function(o,n){return function(){o[n]()}})(f.jsContext,i);console.log(k);f.benchmarkSuite.add({name:m.expression,fn:k,async:true,queued:true,minSamples:100})}else{f.benchmarkSuite.add(m.expression,function(){l(f.jsContext)},{async:true,"qu=]ued":true,minSamples:100})}return f};f.shouldEqual=function(i){f.shouldEqualValue=i;return f};f.compare=function(){var j=function(l,k){return l[k]()};for(var i in f.jsContext){f.addTestWithBenchmarks(f.shouldEqualValue,j,i)}return f};f.run=function(){f.benchmarksDone(false);f.benchmarks.removeAll();f.benchmarkSuite.run()};a.applyBindings(f)}});define("Test",[],function(){return function(d,e,c,b){var a=e.toString().trim();if(b){this.expression=b+"()";this.actual=e(c,b)}else{this.expression=a.replace(/\n    /,"").replace(/function +?\(c\) +?\{ +?return(.*?) +?}/gim,"$1");this.actual=e(c)}this.shouldEqual=d;this.typeOf=typeof(this.actual)}});define("Spy",[],function(){return function(b){function a(){var c=Array.prototype.slice.call(arguments);a.calls.push(c);b.apply(this,c)}a.prototype=b.prototype;a.calls=[];return a}});define("Verify",[],function(){return function(a){return function(){var d=Array.prototype.slice.call(arguments),e,c,f,g=0,b;for(e=0;e<a.calls.length;e+=1){f=a.calls[e];b=true;for(c=0;c<d.length;c+=1){if(d[c]!==f[c]){b=false;break}}if(b){g+=1}}return g>0}}});define("ThemeManager",[],function(){return function a(){a.prototype.init=function(){if(!amplify.store("currentTheme")){amplify.store("previousTheme","");this.set("cyborg")}else{b()}};function b(){var d=document.getElementById(amplify.store("currentTheme"));d.innerHTML=d.innerHTML.replace(/\/\*/g,"").replace(/\*\//g,"");if(amplify.store("previousTheme")!=""){var c=document.getElementById(amplify.store("previousTheme"));c.innerHTML="/*"+c.innerHTML+"*/"}}a.prototype.set=function(c){if(c!=amplify.store("currentTheme")){amplify.store("previousTheme",amplify.store("currentTheme"));amplify.store("currentTheme",c);b()}}}});define("UnitTestFrameworkManager",[],function(){return function a(){a.prototype.init=function(){if(!amplify.store("currentUnitTestFramework")){this.set("itchcork")}return this.getFramework()};a.prototype.set=function(b){if(b!=amplify.store("currentUnitTestFramework")){amplify.store("currentUnitTestFramework",b)}};a.prototype.getFramework=function(){return amplify.store("currentUnitTestFramework")}}});define("ItchCork",["Suite","Test","Spy","Verify","ThemeManager","UnitTestFrameworkManager"],function(a,g,b,f,d,c){return function e(){e.prototype.Suite=a;e.prototype.Test=g;e.prototype.Spy=b;e.prototype.Verify=f;e.prototype.ThemeManager=d;e.prototype.UnitTestFrameworkManager=c}});